{"ast":null,"code":"import _ol_ from '../index.js';\nimport _ol_Collection_ from '../collection.js';\nimport _ol_CollectionEventType_ from '../collectioneventtype.js';\nimport _ol_Object_ from '../object.js';\nimport _ol_ObjectEventType_ from '../objecteventtype.js';\nimport _ol_asserts_ from '../asserts.js';\nimport _ol_events_ from '../events.js';\nimport _ol_events_EventType_ from '../events/eventtype.js';\nimport _ol_extent_ from '../extent.js';\nimport _ol_layer_Base_ from '../layer/base.js';\nimport _ol_obj_ from '../obj.js';\nimport _ol_source_State_ from '../source/state.js';\n/**\n * @classdesc\n * A {@link ol.Collection} of layers that are handled together.\n *\n * A generic `change` event is triggered when the group/Collection changes.\n *\n * @constructor\n * @extends {ol.layer.Base}\n * @param {olx.layer.GroupOptions=} opt_options Layer options.\n * @api\n */\n\nvar _ol_layer_Group_ = function (opt_options) {\n  var options = opt_options || {};\n\n  var baseOptions =\n  /** @type {olx.layer.GroupOptions} */\n  _ol_obj_.assign({}, options);\n\n  delete baseOptions.layers;\n  var layers = options.layers;\n\n  _ol_layer_Base_.call(this, baseOptions);\n  /**\n   * @private\n   * @type {Array.<ol.EventsKey>}\n   */\n\n\n  this.layersListenerKeys_ = [];\n  /**\n   * @private\n   * @type {Object.<string, Array.<ol.EventsKey>>}\n   */\n\n  this.listenerKeys_ = {};\n\n  _ol_events_.listen(this, _ol_Object_.getChangeEventType(_ol_layer_Group_.Property_.LAYERS), this.handleLayersChanged_, this);\n\n  if (layers) {\n    if (Array.isArray(layers)) {\n      layers = new _ol_Collection_(layers.slice(), {\n        unique: true\n      });\n    } else {\n      _ol_asserts_.assert(layers instanceof _ol_Collection_, 43); // Expected `layers` to be an array or an `ol.Collection`\n\n\n      layers = layers;\n    }\n  } else {\n    layers = new _ol_Collection_(undefined, {\n      unique: true\n    });\n  }\n\n  this.setLayers(layers);\n};\n\n_ol_.inherits(_ol_layer_Group_, _ol_layer_Base_);\n/**\n * @private\n */\n\n\n_ol_layer_Group_.prototype.handleLayerChange_ = function () {\n  this.changed();\n};\n/**\n * @param {ol.events.Event} event Event.\n * @private\n */\n\n\n_ol_layer_Group_.prototype.handleLayersChanged_ = function (event) {\n  this.layersListenerKeys_.forEach(_ol_events_.unlistenByKey);\n  this.layersListenerKeys_.length = 0;\n  var layers = this.getLayers();\n  this.layersListenerKeys_.push(_ol_events_.listen(layers, _ol_CollectionEventType_.ADD, this.handleLayersAdd_, this), _ol_events_.listen(layers, _ol_CollectionEventType_.REMOVE, this.handleLayersRemove_, this));\n\n  for (var id in this.listenerKeys_) {\n    this.listenerKeys_[id].forEach(_ol_events_.unlistenByKey);\n  }\n\n  _ol_obj_.clear(this.listenerKeys_);\n\n  var layersArray = layers.getArray();\n  var i, ii, layer;\n\n  for (i = 0, ii = layersArray.length; i < ii; i++) {\n    layer = layersArray[i];\n    this.listenerKeys_[_ol_.getUid(layer).toString()] = [_ol_events_.listen(layer, _ol_ObjectEventType_.PROPERTYCHANGE, this.handleLayerChange_, this), _ol_events_.listen(layer, _ol_events_EventType_.CHANGE, this.handleLayerChange_, this)];\n  }\n\n  this.changed();\n};\n/**\n * @param {ol.Collection.Event} collectionEvent Collection event.\n * @private\n */\n\n\n_ol_layer_Group_.prototype.handleLayersAdd_ = function (collectionEvent) {\n  var layer =\n  /** @type {ol.layer.Base} */\n  collectionEvent.element;\n\n  var key = _ol_.getUid(layer).toString();\n\n  this.listenerKeys_[key] = [_ol_events_.listen(layer, _ol_ObjectEventType_.PROPERTYCHANGE, this.handleLayerChange_, this), _ol_events_.listen(layer, _ol_events_EventType_.CHANGE, this.handleLayerChange_, this)];\n  this.changed();\n};\n/**\n * @param {ol.Collection.Event} collectionEvent Collection event.\n * @private\n */\n\n\n_ol_layer_Group_.prototype.handleLayersRemove_ = function (collectionEvent) {\n  var layer =\n  /** @type {ol.layer.Base} */\n  collectionEvent.element;\n\n  var key = _ol_.getUid(layer).toString();\n\n  this.listenerKeys_[key].forEach(_ol_events_.unlistenByKey);\n  delete this.listenerKeys_[key];\n  this.changed();\n};\n/**\n * Returns the {@link ol.Collection collection} of {@link ol.layer.Layer layers}\n * in this group.\n * @return {!ol.Collection.<ol.layer.Base>} Collection of\n *   {@link ol.layer.Base layers} that are part of this group.\n * @observable\n * @api\n */\n\n\n_ol_layer_Group_.prototype.getLayers = function () {\n  return (\n    /** @type {!ol.Collection.<ol.layer.Base>} */\n    this.get(_ol_layer_Group_.Property_.LAYERS)\n  );\n};\n/**\n * Set the {@link ol.Collection collection} of {@link ol.layer.Layer layers}\n * in this group.\n * @param {!ol.Collection.<ol.layer.Base>} layers Collection of\n *   {@link ol.layer.Base layers} that are part of this group.\n * @observable\n * @api\n */\n\n\n_ol_layer_Group_.prototype.setLayers = function (layers) {\n  this.set(_ol_layer_Group_.Property_.LAYERS, layers);\n};\n/**\n * @inheritDoc\n */\n\n\n_ol_layer_Group_.prototype.getLayersArray = function (opt_array) {\n  var array = opt_array !== undefined ? opt_array : [];\n  this.getLayers().forEach(function (layer) {\n    layer.getLayersArray(array);\n  });\n  return array;\n};\n/**\n * @inheritDoc\n */\n\n\n_ol_layer_Group_.prototype.getLayerStatesArray = function (opt_states) {\n  var states = opt_states !== undefined ? opt_states : [];\n  var pos = states.length;\n  this.getLayers().forEach(function (layer) {\n    layer.getLayerStatesArray(states);\n  });\n  var ownLayerState = this.getLayerState();\n  var i, ii, layerState;\n\n  for (i = pos, ii = states.length; i < ii; i++) {\n    layerState = states[i];\n    layerState.opacity *= ownLayerState.opacity;\n    layerState.visible = layerState.visible && ownLayerState.visible;\n    layerState.maxResolution = Math.min(layerState.maxResolution, ownLayerState.maxResolution);\n    layerState.minResolution = Math.max(layerState.minResolution, ownLayerState.minResolution);\n\n    if (ownLayerState.extent !== undefined) {\n      if (layerState.extent !== undefined) {\n        layerState.extent = _ol_extent_.getIntersection(layerState.extent, ownLayerState.extent);\n      } else {\n        layerState.extent = ownLayerState.extent;\n      }\n    }\n  }\n\n  return states;\n};\n/**\n * @inheritDoc\n */\n\n\n_ol_layer_Group_.prototype.getSourceState = function () {\n  return _ol_source_State_.READY;\n};\n/**\n * @enum {string}\n * @private\n */\n\n\n_ol_layer_Group_.Property_ = {\n  LAYERS: 'layers'\n};\nexport default _ol_layer_Group_;","map":{"version":3,"sources":["C:/xampp/htdocs/food_menu/node_modules/ol/layer/group.js"],"names":["_ol_","_ol_Collection_","_ol_CollectionEventType_","_ol_Object_","_ol_ObjectEventType_","_ol_asserts_","_ol_events_","_ol_events_EventType_","_ol_extent_","_ol_layer_Base_","_ol_obj_","_ol_source_State_","_ol_layer_Group_","opt_options","options","baseOptions","assign","layers","call","layersListenerKeys_","listenerKeys_","listen","getChangeEventType","Property_","LAYERS","handleLayersChanged_","Array","isArray","slice","unique","assert","undefined","setLayers","inherits","prototype","handleLayerChange_","changed","event","forEach","unlistenByKey","length","getLayers","push","ADD","handleLayersAdd_","REMOVE","handleLayersRemove_","id","clear","layersArray","getArray","i","ii","layer","getUid","toString","PROPERTYCHANGE","CHANGE","collectionEvent","element","key","get","set","getLayersArray","opt_array","array","getLayerStatesArray","opt_states","states","pos","ownLayerState","getLayerState","layerState","opacity","visible","maxResolution","Math","min","minResolution","max","extent","getIntersection","getSourceState","READY"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,aAAjB;AACA,OAAOC,eAAP,MAA4B,kBAA5B;AACA,OAAOC,wBAAP,MAAqC,2BAArC;AACA,OAAOC,WAAP,MAAwB,cAAxB;AACA,OAAOC,oBAAP,MAAiC,uBAAjC;AACA,OAAOC,YAAP,MAAyB,eAAzB;AACA,OAAOC,WAAP,MAAwB,cAAxB;AACA,OAAOC,qBAAP,MAAkC,wBAAlC;AACA,OAAOC,WAAP,MAAwB,cAAxB;AACA,OAAOC,eAAP,MAA4B,kBAA5B;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,OAAOC,iBAAP,MAA8B,oBAA9B;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,IAAIC,gBAAgB,GAAG,UAASC,WAAT,EAAsB;AAE3C,MAAIC,OAAO,GAAGD,WAAW,IAAI,EAA7B;;AACA,MAAIE,WAAW;AAAG;AACbL,EAAAA,QAAQ,CAACM,MAAT,CAAgB,EAAhB,EAAoBF,OAApB,CADL;;AAEA,SAAOC,WAAW,CAACE,MAAnB;AAEA,MAAIA,MAAM,GAAGH,OAAO,CAACG,MAArB;;AAEAR,EAAAA,eAAe,CAACS,IAAhB,CAAqB,IAArB,EAA2BH,WAA3B;AAEA;AACF;AACA;AACA;;;AACE,OAAKI,mBAAL,GAA2B,EAA3B;AAEA;AACF;AACA;AACA;;AACE,OAAKC,aAAL,GAAqB,EAArB;;AAEAd,EAAAA,WAAW,CAACe,MAAZ,CAAmB,IAAnB,EACIlB,WAAW,CAACmB,kBAAZ,CAA+BV,gBAAgB,CAACW,SAAjB,CAA2BC,MAA1D,CADJ,EAEI,KAAKC,oBAFT,EAE+B,IAF/B;;AAIA,MAAIR,MAAJ,EAAY;AACV,QAAIS,KAAK,CAACC,OAAN,CAAcV,MAAd,CAAJ,EAA2B;AACzBA,MAAAA,MAAM,GAAG,IAAIhB,eAAJ,CAAoBgB,MAAM,CAACW,KAAP,EAApB,EAAoC;AAACC,QAAAA,MAAM,EAAE;AAAT,OAApC,CAAT;AACD,KAFD,MAEO;AACLxB,MAAAA,YAAY,CAACyB,MAAb,CAAoBb,MAAM,YAAYhB,eAAtC,EACI,EADJ,EADK,CAEI;;;AACTgB,MAAAA,MAAM,GAAGA,MAAT;AACD;AACF,GARD,MAQO;AACLA,IAAAA,MAAM,GAAG,IAAIhB,eAAJ,CAAoB8B,SAApB,EAA+B;AAACF,MAAAA,MAAM,EAAE;AAAT,KAA/B,CAAT;AACD;;AAED,OAAKG,SAAL,CAAef,MAAf;AAED,CAzCD;;AA2CAjB,IAAI,CAACiC,QAAL,CAAcrB,gBAAd,EAAgCH,eAAhC;AAGA;AACA;AACA;;;AACAG,gBAAgB,CAACsB,SAAjB,CAA2BC,kBAA3B,GAAgD,YAAW;AACzD,OAAKC,OAAL;AACD,CAFD;AAKA;AACA;AACA;AACA;;;AACAxB,gBAAgB,CAACsB,SAAjB,CAA2BT,oBAA3B,GAAkD,UAASY,KAAT,EAAgB;AAChE,OAAKlB,mBAAL,CAAyBmB,OAAzB,CAAiChC,WAAW,CAACiC,aAA7C;AACA,OAAKpB,mBAAL,CAAyBqB,MAAzB,GAAkC,CAAlC;AAEA,MAAIvB,MAAM,GAAG,KAAKwB,SAAL,EAAb;AACA,OAAKtB,mBAAL,CAAyBuB,IAAzB,CACIpC,WAAW,CAACe,MAAZ,CAAmBJ,MAAnB,EAA2Bf,wBAAwB,CAACyC,GAApD,EACI,KAAKC,gBADT,EAC2B,IAD3B,CADJ,EAGItC,WAAW,CAACe,MAAZ,CAAmBJ,MAAnB,EAA2Bf,wBAAwB,CAAC2C,MAApD,EACI,KAAKC,mBADT,EAC8B,IAD9B,CAHJ;;AAMA,OAAK,IAAIC,EAAT,IAAe,KAAK3B,aAApB,EAAmC;AACjC,SAAKA,aAAL,CAAmB2B,EAAnB,EAAuBT,OAAvB,CAA+BhC,WAAW,CAACiC,aAA3C;AACD;;AACD7B,EAAAA,QAAQ,CAACsC,KAAT,CAAe,KAAK5B,aAApB;;AAEA,MAAI6B,WAAW,GAAGhC,MAAM,CAACiC,QAAP,EAAlB;AACA,MAAIC,CAAJ,EAAOC,EAAP,EAAWC,KAAX;;AACA,OAAKF,CAAC,GAAG,CAAJ,EAAOC,EAAE,GAAGH,WAAW,CAACT,MAA7B,EAAqCW,CAAC,GAAGC,EAAzC,EAA6CD,CAAC,EAA9C,EAAkD;AAChDE,IAAAA,KAAK,GAAGJ,WAAW,CAACE,CAAD,CAAnB;AACA,SAAK/B,aAAL,CAAmBpB,IAAI,CAACsD,MAAL,CAAYD,KAAZ,EAAmBE,QAAnB,EAAnB,IAAoD,CAClDjD,WAAW,CAACe,MAAZ,CAAmBgC,KAAnB,EAA0BjD,oBAAoB,CAACoD,cAA/C,EACI,KAAKrB,kBADT,EAC6B,IAD7B,CADkD,EAGlD7B,WAAW,CAACe,MAAZ,CAAmBgC,KAAnB,EAA0B9C,qBAAqB,CAACkD,MAAhD,EACI,KAAKtB,kBADT,EAC6B,IAD7B,CAHkD,CAApD;AAMD;;AAED,OAAKC,OAAL;AACD,CA7BD;AAgCA;AACA;AACA;AACA;;;AACAxB,gBAAgB,CAACsB,SAAjB,CAA2BU,gBAA3B,GAA8C,UAASc,eAAT,EAA0B;AACtE,MAAIL,KAAK;AAAG;AAA8BK,EAAAA,eAAe,CAACC,OAA1D;;AACA,MAAIC,GAAG,GAAG5D,IAAI,CAACsD,MAAL,CAAYD,KAAZ,EAAmBE,QAAnB,EAAV;;AACA,OAAKnC,aAAL,CAAmBwC,GAAnB,IAA0B,CACxBtD,WAAW,CAACe,MAAZ,CAAmBgC,KAAnB,EAA0BjD,oBAAoB,CAACoD,cAA/C,EACI,KAAKrB,kBADT,EAC6B,IAD7B,CADwB,EAGxB7B,WAAW,CAACe,MAAZ,CAAmBgC,KAAnB,EAA0B9C,qBAAqB,CAACkD,MAAhD,EACI,KAAKtB,kBADT,EAC6B,IAD7B,CAHwB,CAA1B;AAMA,OAAKC,OAAL;AACD,CAVD;AAaA;AACA;AACA;AACA;;;AACAxB,gBAAgB,CAACsB,SAAjB,CAA2BY,mBAA3B,GAAiD,UAASY,eAAT,EAA0B;AACzE,MAAIL,KAAK;AAAG;AAA8BK,EAAAA,eAAe,CAACC,OAA1D;;AACA,MAAIC,GAAG,GAAG5D,IAAI,CAACsD,MAAL,CAAYD,KAAZ,EAAmBE,QAAnB,EAAV;;AACA,OAAKnC,aAAL,CAAmBwC,GAAnB,EAAwBtB,OAAxB,CAAgChC,WAAW,CAACiC,aAA5C;AACA,SAAO,KAAKnB,aAAL,CAAmBwC,GAAnB,CAAP;AACA,OAAKxB,OAAL;AACD,CAND;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACAxB,gBAAgB,CAACsB,SAAjB,CAA2BO,SAA3B,GAAuC,YAAW;AAChD;AACE;AAA8C,SAAKoB,GAAL,CAC1CjD,gBAAgB,CAACW,SAAjB,CAA2BC,MADe;AADhD;AAID,CALD;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACAZ,gBAAgB,CAACsB,SAAjB,CAA2BF,SAA3B,GAAuC,UAASf,MAAT,EAAiB;AACtD,OAAK6C,GAAL,CAASlD,gBAAgB,CAACW,SAAjB,CAA2BC,MAApC,EAA4CP,MAA5C;AACD,CAFD;AAKA;AACA;AACA;;;AACAL,gBAAgB,CAACsB,SAAjB,CAA2B6B,cAA3B,GAA4C,UAASC,SAAT,EAAoB;AAC9D,MAAIC,KAAK,GAAGD,SAAS,KAAKjC,SAAd,GAA0BiC,SAA1B,GAAsC,EAAlD;AACA,OAAKvB,SAAL,GAAiBH,OAAjB,CAAyB,UAASe,KAAT,EAAgB;AACvCA,IAAAA,KAAK,CAACU,cAAN,CAAqBE,KAArB;AACD,GAFD;AAGA,SAAOA,KAAP;AACD,CAND;AASA;AACA;AACA;;;AACArD,gBAAgB,CAACsB,SAAjB,CAA2BgC,mBAA3B,GAAiD,UAASC,UAAT,EAAqB;AACpE,MAAIC,MAAM,GAAGD,UAAU,KAAKpC,SAAf,GAA2BoC,UAA3B,GAAwC,EAArD;AAEA,MAAIE,GAAG,GAAGD,MAAM,CAAC5B,MAAjB;AAEA,OAAKC,SAAL,GAAiBH,OAAjB,CAAyB,UAASe,KAAT,EAAgB;AACvCA,IAAAA,KAAK,CAACa,mBAAN,CAA0BE,MAA1B;AACD,GAFD;AAIA,MAAIE,aAAa,GAAG,KAAKC,aAAL,EAApB;AACA,MAAIpB,CAAJ,EAAOC,EAAP,EAAWoB,UAAX;;AACA,OAAKrB,CAAC,GAAGkB,GAAJ,EAASjB,EAAE,GAAGgB,MAAM,CAAC5B,MAA1B,EAAkCW,CAAC,GAAGC,EAAtC,EAA0CD,CAAC,EAA3C,EAA+C;AAC7CqB,IAAAA,UAAU,GAAGJ,MAAM,CAACjB,CAAD,CAAnB;AACAqB,IAAAA,UAAU,CAACC,OAAX,IAAsBH,aAAa,CAACG,OAApC;AACAD,IAAAA,UAAU,CAACE,OAAX,GAAqBF,UAAU,CAACE,OAAX,IAAsBJ,aAAa,CAACI,OAAzD;AACAF,IAAAA,UAAU,CAACG,aAAX,GAA2BC,IAAI,CAACC,GAAL,CACvBL,UAAU,CAACG,aADY,EACGL,aAAa,CAACK,aADjB,CAA3B;AAEAH,IAAAA,UAAU,CAACM,aAAX,GAA2BF,IAAI,CAACG,GAAL,CACvBP,UAAU,CAACM,aADY,EACGR,aAAa,CAACQ,aADjB,CAA3B;;AAEA,QAAIR,aAAa,CAACU,MAAd,KAAyBjD,SAA7B,EAAwC;AACtC,UAAIyC,UAAU,CAACQ,MAAX,KAAsBjD,SAA1B,EAAqC;AACnCyC,QAAAA,UAAU,CAACQ,MAAX,GAAoBxE,WAAW,CAACyE,eAAZ,CAChBT,UAAU,CAACQ,MADK,EACGV,aAAa,CAACU,MADjB,CAApB;AAED,OAHD,MAGO;AACLR,QAAAA,UAAU,CAACQ,MAAX,GAAoBV,aAAa,CAACU,MAAlC;AACD;AACF;AACF;;AAED,SAAOZ,MAAP;AACD,CA9BD;AAiCA;AACA;AACA;;;AACAxD,gBAAgB,CAACsB,SAAjB,CAA2BgD,cAA3B,GAA4C,YAAW;AACrD,SAAOvE,iBAAiB,CAACwE,KAAzB;AACD,CAFD;AAIA;AACA;AACA;AACA;;;AACAvE,gBAAgB,CAACW,SAAjB,GAA6B;AAC3BC,EAAAA,MAAM,EAAE;AADmB,CAA7B;AAGA,eAAeZ,gBAAf","sourcesContent":["import _ol_ from '../index.js';\nimport _ol_Collection_ from '../collection.js';\nimport _ol_CollectionEventType_ from '../collectioneventtype.js';\nimport _ol_Object_ from '../object.js';\nimport _ol_ObjectEventType_ from '../objecteventtype.js';\nimport _ol_asserts_ from '../asserts.js';\nimport _ol_events_ from '../events.js';\nimport _ol_events_EventType_ from '../events/eventtype.js';\nimport _ol_extent_ from '../extent.js';\nimport _ol_layer_Base_ from '../layer/base.js';\nimport _ol_obj_ from '../obj.js';\nimport _ol_source_State_ from '../source/state.js';\n\n/**\n * @classdesc\n * A {@link ol.Collection} of layers that are handled together.\n *\n * A generic `change` event is triggered when the group/Collection changes.\n *\n * @constructor\n * @extends {ol.layer.Base}\n * @param {olx.layer.GroupOptions=} opt_options Layer options.\n * @api\n */\nvar _ol_layer_Group_ = function(opt_options) {\n\n  var options = opt_options || {};\n  var baseOptions = /** @type {olx.layer.GroupOptions} */\n      (_ol_obj_.assign({}, options));\n  delete baseOptions.layers;\n\n  var layers = options.layers;\n\n  _ol_layer_Base_.call(this, baseOptions);\n\n  /**\n   * @private\n   * @type {Array.<ol.EventsKey>}\n   */\n  this.layersListenerKeys_ = [];\n\n  /**\n   * @private\n   * @type {Object.<string, Array.<ol.EventsKey>>}\n   */\n  this.listenerKeys_ = {};\n\n  _ol_events_.listen(this,\n      _ol_Object_.getChangeEventType(_ol_layer_Group_.Property_.LAYERS),\n      this.handleLayersChanged_, this);\n\n  if (layers) {\n    if (Array.isArray(layers)) {\n      layers = new _ol_Collection_(layers.slice(), {unique: true});\n    } else {\n      _ol_asserts_.assert(layers instanceof _ol_Collection_,\n          43); // Expected `layers` to be an array or an `ol.Collection`\n      layers = layers;\n    }\n  } else {\n    layers = new _ol_Collection_(undefined, {unique: true});\n  }\n\n  this.setLayers(layers);\n\n};\n\n_ol_.inherits(_ol_layer_Group_, _ol_layer_Base_);\n\n\n/**\n * @private\n */\n_ol_layer_Group_.prototype.handleLayerChange_ = function() {\n  this.changed();\n};\n\n\n/**\n * @param {ol.events.Event} event Event.\n * @private\n */\n_ol_layer_Group_.prototype.handleLayersChanged_ = function(event) {\n  this.layersListenerKeys_.forEach(_ol_events_.unlistenByKey);\n  this.layersListenerKeys_.length = 0;\n\n  var layers = this.getLayers();\n  this.layersListenerKeys_.push(\n      _ol_events_.listen(layers, _ol_CollectionEventType_.ADD,\n          this.handleLayersAdd_, this),\n      _ol_events_.listen(layers, _ol_CollectionEventType_.REMOVE,\n          this.handleLayersRemove_, this));\n\n  for (var id in this.listenerKeys_) {\n    this.listenerKeys_[id].forEach(_ol_events_.unlistenByKey);\n  }\n  _ol_obj_.clear(this.listenerKeys_);\n\n  var layersArray = layers.getArray();\n  var i, ii, layer;\n  for (i = 0, ii = layersArray.length; i < ii; i++) {\n    layer = layersArray[i];\n    this.listenerKeys_[_ol_.getUid(layer).toString()] = [\n      _ol_events_.listen(layer, _ol_ObjectEventType_.PROPERTYCHANGE,\n          this.handleLayerChange_, this),\n      _ol_events_.listen(layer, _ol_events_EventType_.CHANGE,\n          this.handleLayerChange_, this)\n    ];\n  }\n\n  this.changed();\n};\n\n\n/**\n * @param {ol.Collection.Event} collectionEvent Collection event.\n * @private\n */\n_ol_layer_Group_.prototype.handleLayersAdd_ = function(collectionEvent) {\n  var layer = /** @type {ol.layer.Base} */ (collectionEvent.element);\n  var key = _ol_.getUid(layer).toString();\n  this.listenerKeys_[key] = [\n    _ol_events_.listen(layer, _ol_ObjectEventType_.PROPERTYCHANGE,\n        this.handleLayerChange_, this),\n    _ol_events_.listen(layer, _ol_events_EventType_.CHANGE,\n        this.handleLayerChange_, this)\n  ];\n  this.changed();\n};\n\n\n/**\n * @param {ol.Collection.Event} collectionEvent Collection event.\n * @private\n */\n_ol_layer_Group_.prototype.handleLayersRemove_ = function(collectionEvent) {\n  var layer = /** @type {ol.layer.Base} */ (collectionEvent.element);\n  var key = _ol_.getUid(layer).toString();\n  this.listenerKeys_[key].forEach(_ol_events_.unlistenByKey);\n  delete this.listenerKeys_[key];\n  this.changed();\n};\n\n\n/**\n * Returns the {@link ol.Collection collection} of {@link ol.layer.Layer layers}\n * in this group.\n * @return {!ol.Collection.<ol.layer.Base>} Collection of\n *   {@link ol.layer.Base layers} that are part of this group.\n * @observable\n * @api\n */\n_ol_layer_Group_.prototype.getLayers = function() {\n  return (\n    /** @type {!ol.Collection.<ol.layer.Base>} */ this.get(\n        _ol_layer_Group_.Property_.LAYERS)\n  );\n};\n\n\n/**\n * Set the {@link ol.Collection collection} of {@link ol.layer.Layer layers}\n * in this group.\n * @param {!ol.Collection.<ol.layer.Base>} layers Collection of\n *   {@link ol.layer.Base layers} that are part of this group.\n * @observable\n * @api\n */\n_ol_layer_Group_.prototype.setLayers = function(layers) {\n  this.set(_ol_layer_Group_.Property_.LAYERS, layers);\n};\n\n\n/**\n * @inheritDoc\n */\n_ol_layer_Group_.prototype.getLayersArray = function(opt_array) {\n  var array = opt_array !== undefined ? opt_array : [];\n  this.getLayers().forEach(function(layer) {\n    layer.getLayersArray(array);\n  });\n  return array;\n};\n\n\n/**\n * @inheritDoc\n */\n_ol_layer_Group_.prototype.getLayerStatesArray = function(opt_states) {\n  var states = opt_states !== undefined ? opt_states : [];\n\n  var pos = states.length;\n\n  this.getLayers().forEach(function(layer) {\n    layer.getLayerStatesArray(states);\n  });\n\n  var ownLayerState = this.getLayerState();\n  var i, ii, layerState;\n  for (i = pos, ii = states.length; i < ii; i++) {\n    layerState = states[i];\n    layerState.opacity *= ownLayerState.opacity;\n    layerState.visible = layerState.visible && ownLayerState.visible;\n    layerState.maxResolution = Math.min(\n        layerState.maxResolution, ownLayerState.maxResolution);\n    layerState.minResolution = Math.max(\n        layerState.minResolution, ownLayerState.minResolution);\n    if (ownLayerState.extent !== undefined) {\n      if (layerState.extent !== undefined) {\n        layerState.extent = _ol_extent_.getIntersection(\n            layerState.extent, ownLayerState.extent);\n      } else {\n        layerState.extent = ownLayerState.extent;\n      }\n    }\n  }\n\n  return states;\n};\n\n\n/**\n * @inheritDoc\n */\n_ol_layer_Group_.prototype.getSourceState = function() {\n  return _ol_source_State_.READY;\n};\n\n/**\n * @enum {string}\n * @private\n */\n_ol_layer_Group_.Property_ = {\n  LAYERS: 'layers'\n};\nexport default _ol_layer_Group_;\n"]},"metadata":{},"sourceType":"module"}